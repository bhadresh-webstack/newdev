(()=>{var e={};e.id=8905,e.ids=[8905],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5486:e=>{"use strict";e.exports=require("bcrypt")},7502:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\bhadr\\\\Downloads\\\\webstack\\\\app\\\\app\\\\projects\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\projects\\page.tsx","default")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},24527:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=t(65239),a=t(48088),o=t(88170),i=t.n(o),l=t(30893),n={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);t.d(r,n);let d={children:["",{children:["app",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7502)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\projects\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,58359)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\projects\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,93538)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\projects\\page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/app/projects/page",pathname:"/app/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40228:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},55192:(e,r,t)=>{"use strict";t.d(r,{BT:()=>d,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>l,wL:()=>u});var s=t(60687),a=t(43210),o=t(96241);let i=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let l=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let n=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("h3",{ref:t,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));n.displayName="CardTitle";let d=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("p",{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,o.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent";let u=a.forwardRef(({className:e,...r},t)=>(0,s.jsx)("div",{ref:t,className:(0,o.cn)("flex items-center p-6 pt-0",e),...r}));u.displayName="CardFooter"},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56684:(e,r,t)=>{Promise.resolve().then(t.bind(t,7502))},58359:(e,r,t)=>{"use strict";function s(){return null}t.r(r),t.d(r,{default:()=>s})},59400:(e,r,t)=>{"use strict";t.d(r,{W:()=>c});var s=t(60687),a=t(99270),o=t(96474),i=t(16189),l=t(24934),n=t(55192),d=t(9890);function c({searchQuery:e,userRole:r}){let t=(0,i.useRouter)();return(0,s.jsx)(d.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,s.jsx)(n.Zp,{children:(0,s.jsxs)(n.Wu,{className:"flex flex-col items-center justify-center py-10",children:[(0,s.jsx)("div",{className:"rounded-full bg-muted p-3 mb-4",children:(0,s.jsx)(a.A,{className:"h-6 w-6 text-muted-foreground"})}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No projects found"}),(0,s.jsx)("p",{className:"text-muted-foreground text-center max-w-md mb-6",children:e?`No projects matching "${e}"`:"Get started by creating your first project"}),("admin"===r||"customer"===r)&&(0,s.jsxs)(l.$,{onClick:()=>t.push("/app/projects/new"),className:"flex items-center",children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Create Project"]})]})})})}},62764:(e,r,t)=>{Promise.resolve().then(t.bind(t,77219))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},77219:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>P});var s=t(60687),a=t(43210),o=t(16189),i=t(9890),l=t(25354),n=t(79921),d=t(71702),c=t(96474),u=t(24934);function p({userRole:e}){let r=(0,o.useRouter)();return(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-medium tracking-tight",children:"Projects"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage your development projects efficiently"})]}),("admin"===e||"customer"===e)&&(0,s.jsxs)(u.$,{onClick:()=>r.push("/app/projects/new"),size:"sm",className:"gap-1.5 bg-gradient-to-r from-primary to-purple-600 hover:from-primary/90 hover:to-purple-600/90 shadow-sm",children:[(0,s.jsx)(c.A,{className:"h-3.5 w-3.5"}),"New Project"]})]})}var m=t(99270),h=t(98492),g=t(41312);let x=(0,t(62688).A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var f=t(55629),j=t(68988);function b({searchQuery:e,onSearchChange:r,onSubmit:t,setStatusFilter:a,setRelationshipFilter:o,setSortOrder:i,userRole:l}){return(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[(0,s.jsxs)("form",{onSubmit:t,className:"relative flex-1 min-w-[200px] max-w-xs",children:[(0,s.jsx)(m.A,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),(0,s.jsx)(j.p,{type:"search",placeholder:"Search projects...",className:"pl-7 h-8 text-sm bg-background",value:e,onChange:r,onClick:e=>e.stopPropagation()})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsxs)(u.$,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[(0,s.jsx)(h.A,{className:"h-3.5 w-3.5"}),"Status"]})}),(0,s.jsxs)(f.SQ,{children:[(0,s.jsx)(f._2,{onClick:()=>a("all"),children:"All Statuses"}),(0,s.jsx)(f._2,{onClick:()=>a("Planning"),children:"Planning"}),(0,s.jsx)(f._2,{onClick:()=>a("In Progress"),children:"In Progress"}),(0,s.jsx)(f._2,{onClick:()=>a("Completed"),children:"Completed"})]})]}),"team_member"===l&&(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsxs)(u.$,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[(0,s.jsx)(g.A,{className:"h-3.5 w-3.5"}),"Relationship"]})}),(0,s.jsxs)(f.SQ,{children:[(0,s.jsx)(f._2,{onClick:()=>o("all"),children:"All Projects"}),(0,s.jsx)(f._2,{onClick:()=>o("team"),children:"Team Member"}),(0,s.jsx)(f._2,{onClick:()=>o("tasks"),children:"Assigned Tasks"})]})]}),(0,s.jsxs)(f.rI,{children:[(0,s.jsx)(f.ty,{asChild:!0,children:(0,s.jsxs)(u.$,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1.5",children:[(0,s.jsx)(x,{className:"h-3.5 w-3.5"}),"Sort"]})}),(0,s.jsxs)(f.SQ,{children:[(0,s.jsx)(f._2,{onClick:()=>i("newest"),children:"Newest First"}),(0,s.jsx)(f._2,{onClick:()=>i("oldest"),children:"Oldest First"}),(0,s.jsx)(f.mB,{}),(0,s.jsx)(f._2,{onClick:()=>i("progress-high"),children:"Progress (High to Low)"}),(0,s.jsx)(f._2,{onClick:()=>i("progress-low"),children:"Progress (Low to High)"})]})]})]})]})}var y=t(96484),w=t(59400);function v(){return(0,s.jsxs)("div",{className:"space-y-8 animate-pulse",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"h-8 bg-muted rounded-md w-1/3"}),(0,s.jsx)("div",{className:"h-10 bg-muted rounded-md w-32"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"h-10 bg-muted rounded-md w-64"}),(0,s.jsx)("div",{className:"h-10 bg-muted rounded-md w-32"}),(0,s.jsx)("div",{className:"h-10 bg-muted rounded-md w-32"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(e=>(0,s.jsx)("div",{className:"h-64 bg-muted rounded-lg"},e))})]})}let k={hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.05,delayChildren:.1}}};function P(){let{fetchProjects:e,deleteProject:r,isLoading:t,error:c}=(0,n.b)(),{user:u}=(0,l.n)();(0,o.useSearchParams)();let{toast:m}=(0,d.dj)(),[h,g]=(0,a.useState)([]),[x,f]=(0,a.useState)(!1),j=u?.role,{searchQuery:P,setSearchQuery:N,statusFilter:C,setStatusFilter:E,sortOrder:L,setSortOrder:_,relationshipFilter:A,setRelationshipFilter:T,filterProjects:F}=function(){let[e,r]=(0,a.useState)(""),[t,s]=(0,a.useState)("all"),[o,i]=(0,a.useState)("newest"),[l,n]=(0,a.useState)("all"),d=e=>e>=100?"Completed":e>50?"In Progress":"Planning";return{searchQuery:e,setSearchQuery:r,statusFilter:t,setStatusFilter:s,sortOrder:o,setSortOrder:i,relationshipFilter:l,setRelationshipFilter:n,filterProjects:r=>r.filter(r=>("all"===t||d(r.progress_percentage||0)===t)&&("all"===l||("team"!==l||!!r.isTeamMember)&&("tasks"!==l||!!r.hasAssignedTasks))&&(!e||r.title.toLowerCase().includes(e.toLowerCase()))).sort((e,r)=>"newest"===o?new Date(r.created_at).getTime()-new Date(e.created_at).getTime():"oldest"===o?new Date(e.created_at).getTime()-new Date(r.created_at).getTime():"progress-high"===o?(r.progress_percentage||0)-(e.progress_percentage||0):"progress-low"===o?(e.progress_percentage||0)-(r.progress_percentage||0):0),getStatusText:d}}(),R=async()=>{try{let{data:r,error:t}=await e();if(t){m({title:"Error",description:t,variant:"destructive"});return}r&&g(r)}catch(e){console.error("Error loading projects:",e),m({title:"Error",description:"Failed to load projects. Please try again.",variant:"destructive"})}},S=async e=>{try{f(!0);let{error:t}=await r(e);if(t){m({title:"Error",description:t,variant:"destructive"});return}m({title:"Success",description:"Project deleted successfully"}),R()}catch(e){console.error("Error deleting project:",e),m({title:"Error",description:"Failed to delete project. Please try again.",variant:"destructive"})}finally{f(!1)}},q=F(h);return t&&0===h.length?(0,s.jsx)(v,{}):(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)(p,{userRole:j}),(0,s.jsx)(b,{searchQuery:P,onSearchChange:e=>{N(e.target.value)},onSubmit:e=>{e.preventDefault()},setStatusFilter:E,setRelationshipFilter:T,setSortOrder:_,userRole:j}),q.length>0?(0,s.jsx)(i.P.div,{variants:k,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(e=>(0,s.jsx)(y.U,{project:e,onDelete:S,isDeleting:x},e.id))}):(0,s.jsx)(w.W,{searchQuery:P,userRole:j})]})}},78335:()=>{},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},79921:(e,r,t)=>{"use strict";t.d(r,{b:()=>i});var s=t(26787),a=t(34735),o=t(46677);let i=(0,s.v)((e,r)=>({projects:[],isLoading:!1,error:null,stats:null,fetchProjects:async(r={})=>{try{e({isLoading:!0,error:null});let t=new URLSearchParams;Object.entries(r).forEach(([e,r])=>{r&&t.append(e,r)});let s=t.toString(),i=s?`${o.s.PROJECT.base}?${s}`:o.s.PROJECT.base,{data:l,error:n}=await (0,a.A)("GET",i);if(n)throw Error(n);return e({projects:l?.projects||[],isLoading:!1}),{data:l?.projects||[],error:null}}catch(r){return console.error("Error fetching projects:",r),e({error:r.message||"Failed to fetch projects",isLoading:!1}),{data:null,error:r.message||"Failed to fetch projects"}}},getProjectById:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:s}=await (0,a.A)("GET",o.s.PROJECT.byId(r));if(s)throw Error(s);return e({isLoading:!1}),{data:t,error:null}}catch(r){return console.error("Error fetching project:",r),e({error:r.message||"Failed to fetch project",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project"}}},createProject:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:s}=await (0,a.A)("POST",o.s.PROJECT.base,r);if(s)throw Error(s);return e(e=>({projects:t?[t,...e.projects]:e.projects,isLoading:!1})),{data:t,error:null}}catch(r){return console.error("Error creating project:",r),e({error:r.message||"Failed to create project",isLoading:!1}),{data:null,error:r.message||"Failed to create project"}}},updateProject:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:s,error:i}=await (0,a.A)("PATCH",o.s.PROJECT.byId(r),t);if(i)throw Error(i);return s?e(e=>({projects:e.projects.map(e=>e.id===r?{...e,...s}:e),isLoading:!1})):e({isLoading:!1}),{data:s,error:null}}catch(r){return console.error("Error updating project:",r),e({error:r.message||"Failed to update project",isLoading:!1}),{data:null,error:r.message||"Failed to update project"}}},deleteProject:async t=>{try{e({isLoading:!0,error:null});let s=[...r().projects];e(e=>({projects:e.projects.filter(e=>e.id!==t)}));let{error:i}=await (0,a.A)("DELETE",o.s.PROJECT.byId(t));if(i)throw e({projects:s,isLoading:!1}),Error(i);return e({isLoading:!1}),{error:null}}catch(r){return console.error("Error deleting project:",r),e({error:r.message||"Failed to delete project",isLoading:!1}),{error:r.message||"Failed to delete project"}}},fetchProjectStats:async()=>{try{e({isLoading:!0,error:null});let{data:r,error:t}=await (0,a.A)("GET",o.s.PROJECT.stats);if(t)throw Error(t);return e({stats:r,isLoading:!1}),{data:r,error:null}}catch(r){return console.error("Error fetching project statistics:",r),e({error:r.message||"Failed to fetch project statistics",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project statistics"}}},fetchCustomerProjects:async(r,t={})=>{try{e({isLoading:!0,error:null});let s=new URLSearchParams;Object.entries(t).forEach(([e,r])=>{r&&s.append(e,r)});let i=s.toString(),l=i?`${o.s.PROJECT.byCustomer(r)}?${i}`:o.s.PROJECT.byCustomer(r),{data:n,error:d}=await (0,a.A)("GET",l);if(d)throw Error(d);return e({isLoading:!1}),{data:n?.projects||[],error:null}}catch(r){return console.error("Error fetching customer projects:",r),e({error:r.message||"Failed to fetch customer projects",isLoading:!1}),{data:null,error:r.message||"Failed to fetch customer projects"}}},fetchProjectFiles:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:s}=await (0,a.A)("GET",o.s.PROJECT.files(r));if(s)throw Error(s);return e({isLoading:!1}),{data:t?.files||[],error:null}}catch(r){return console.error("Error fetching project files:",r),e({error:r.message||"Failed to fetch project files",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project files"}}},uploadProjectFile:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:s,error:i}=await (0,a.A)("POST",o.s.PROJECT.files(r),t);if(i)throw Error(i);return e({isLoading:!1}),{data:s,error:null}}catch(r){return console.error("Error uploading file:",r),e({error:r.message||"Failed to upload file",isLoading:!1}),{data:null,error:r.message||"Failed to upload file"}}},deleteProjectFile:async(r,t)=>{try{e({isLoading:!0,error:null});let{error:s}=await (0,a.A)("DELETE",`${o.s.PROJECT.files(r)}/${t}`);if(s)throw Error(s);return e({isLoading:!1}),{error:null}}catch(r){return console.error("Error deleting file:",r),e({error:r.message||"Failed to delete file",isLoading:!1}),{error:r.message||"Failed to delete file"}}},fetchProjectFeedback:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:s}=await (0,a.A)("GET",o.s.PROJECT.feedback(r));if(s)throw Error(s);return e({isLoading:!1}),{data:t?.feedback||[],error:null}}catch(r){return console.error("Error fetching project feedback:",r),e({error:r.message||"Failed to fetch project feedback",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project feedback"}}},addProjectFeedback:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:s,error:i}=await (0,a.A)("POST",o.s.PROJECT.feedback(r),t);if(i)throw Error(i);return e({isLoading:!1}),{data:s,error:null}}catch(r){return console.error("Error adding feedback:",r),e({error:r.message||"Failed to add feedback",isLoading:!1}),{data:null,error:r.message||"Failed to add feedback"}}},updateFeedbackStatus:async(r,t,s)=>{try{e({isLoading:!0,error:null});let{data:i,error:l}=await (0,a.A)("PATCH",`${o.s.PROJECT.feedback(r)}/${t}`,{status:s});if(l)throw Error(l);return e({isLoading:!1}),{data:i,error:null}}catch(r){return console.error("Error updating feedback status:",r),e({error:r.message||"Failed to update feedback status",isLoading:!1}),{data:null,error:r.message||"Failed to update feedback status"}}},fetchProjectMessages:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:s}=await (0,a.A)("GET",o.s.PROJECT.messages(r));if(s)throw Error(s);return e({isLoading:!1}),{data:t?.messages||[],error:null}}catch(r){return console.error("Error fetching project messages:",r),e({error:r.message||"Failed to fetch project messages",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project messages"}}},sendProjectMessage:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:s,error:i}=await (0,a.A)("POST",o.s.PROJECT.messages(r),t);if(i)throw Error(i);return e({isLoading:!1}),{data:s,error:null}}catch(r){return console.error("Error sending message:",r),e({error:r.message||"Failed to send message",isLoading:!1}),{data:null,error:r.message||"Failed to send message"}}},clearProjects:()=>e({projects:[]}),clearError:()=>e({error:null})}))},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},88233:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")},96474:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},96484:(e,r,t)=>{"use strict";t.d(r,{U:()=>h});var s=t(60687),a=t(9890),o=t(88233),i=t(41312),l=t(5336),n=t(40228),d=t(16189),c=t(59821),u=t(24934),p=t(55192),m=t(25354);function h({project:e,onDelete:r,isDeleting:t}){var h,g;let x=(0,d.useRouter)(),{user:f}=(0,m.n)(),j=f?.role;return(0,s.jsx)(a.P.div,{whileHover:{y:-5,transition:{duration:.2}},children:(0,s.jsxs)(p.Zp,{className:"overflow-hidden cursor-pointer relative group border-border/40 bg-gradient-to-b from-white to-slate-50/50 dark:from-slate-900 dark:to-slate-800/50 shadow-sm hover:shadow-md transition-all duration-300",onClick:()=>x.push(`/app/projects/${e.id}`),children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-primary to-purple-600 z-10 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)("div",{className:"p-3 relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex-1 pr-4",children:[(0,s.jsx)("h3",{className:"text-base font-semibold truncate",children:e.title}),("admin"===j||"team_member"===j)&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.total_tasks||0," tasks â€¢ ",e.completed_tasks||0," completed"]}),"customer"===j&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),"admin"===j&&(0,s.jsx)(u.$,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-red-500",onClick:t=>{t.stopPropagation(),r(e.id)},disabled:t,children:(0,s.jsx)(o.A,{className:"h-3.5 w-3.5"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs mb-1",children:[(0,s.jsx)("span",{className:"text-muted-foreground font-medium",children:"Progress"}),(0,s.jsxs)("span",{className:"font-semibold",children:[e.progress_percentage||0,"%"]})]}),(0,s.jsx)("div",{className:"h-1 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:(0,s.jsx)("div",{className:"h-full bg-gradient-to-r from-primary to-purple-600 rounded-full transition-all duration-500",style:{width:`${e.progress_percentage||0}%`}})}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-1 mt-1 border-t border-border/30 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(c.E,{className:`${(h=e.progress_percentage)?h>=100?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":h>50?"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-100":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100"} px-1.5 py-0 text-[10px] font-medium`,children:(g=e.progress_percentage)?g>=100?"Completed":g>50?"In Progress":"Planning":"Planning"}),"team_member"===j&&(0,s.jsx)("div",{className:"flex items-center gap-1 ml-1",children:e.isTeamMember?(0,s.jsxs)(c.E,{variant:"outline",className:"px-1.5 py-0 text-[10px] font-medium border-primary/30 text-primary",children:[(0,s.jsx)(i.A,{className:"h-2.5 w-2.5 mr-0.5"}),"Team"]}):e.hasAssignedTasks&&(0,s.jsxs)(c.E,{variant:"outline",className:"px-1.5 py-0 text-[10px] font-medium border-purple-500/30 text-purple-500",children:[(0,s.jsx)(l.A,{className:"h-2.5 w-2.5 mr-0.5"}),"Tasks"]})}),"customer"!==j&&"team_member"!==j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-primary/80 to-purple-600/80 flex items-center justify-center text-white text-[10px] font-bold ml-1",children:"admin"===j&&e.customer_id===f.id?"S":e.customer_name?e.customer_name.charAt(0).toUpperCase():"P"}),(0,s.jsx)("span",{className:"text-[10px] text-muted-foreground truncate max-w-[60px]",children:"admin"===j&&e.customer_id===f.id?"Self":e.customer_name||"Project"})]})]}),e.start_date&&e.duration_days&&(0,s.jsxs)("div",{className:"flex items-center text-[10px] text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-3 w-3 mr-1"}),(0,s.jsx)("span",{children:((e,r)=>{if(!e||!r)return null;let t=new Date(e);return t.setDate(t.getDate()+r),t})(e.start_date,e.duration_days)?.toLocaleDateString(void 0,{month:"short",day:"numeric"})})]})]})]})]})]})})}},96487:()=>{},98492:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(62688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7719,4888,515,7703,1846,8235,8928],()=>t(24527));module.exports=s})();