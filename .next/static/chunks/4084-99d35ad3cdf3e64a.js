"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4084],{6807:(e,r,t)=>{t.d(r,{A:()=>i});var a=t(23464),o=t(49509);let s=a.A.create({baseURL:o.env.NEXT_PUBLIC_API_BASE_URL,headers:{"Content-Type":"application/json"},withCredentials:!0}),i=async(e,r,t,a)=>{try{return{data:(await s({method:e,url:r,data:t,withCredentials:!0,...a})).data,error:null}}catch(e){var o,i;return{data:null,error:(null===(i=e.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.error)||e.message||"Something went wrong"}}}},33223:(e,r,t)=>{t.d(r,{b:()=>i});var a=t(65453),o=t(6807),s=t(53919);let i=(0,a.v)((e,r)=>({projects:[],isLoading:!1,error:null,stats:null,fetchProjects:async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{e({isLoading:!0,error:null});let t=new URLSearchParams;Object.entries(r).forEach(e=>{let[r,a]=e;a&&t.append(r,a)});let a=t.toString(),i=a?"".concat(s.s.PROJECT.base,"?").concat(a):s.s.PROJECT.base,{data:n,error:c}=await (0,o.A)("GET",i);if(c)throw Error(c);return e({projects:(null==n?void 0:n.projects)||[],isLoading:!1}),{data:(null==n?void 0:n.projects)||[],error:null}}catch(r){return console.error("Error fetching projects:",r),e({error:r.message||"Failed to fetch projects",isLoading:!1}),{data:null,error:r.message||"Failed to fetch projects"}}},getProjectById:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:a}=await (0,o.A)("GET",s.s.PROJECT.byId(r));if(a)throw Error(a);return e({isLoading:!1}),{data:t,error:null}}catch(r){return console.error("Error fetching project:",r),e({error:r.message||"Failed to fetch project",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project"}}},createProject:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:a}=await (0,o.A)("POST",s.s.PROJECT.base,r);if(a)throw Error(a);return e(e=>({projects:t?[t,...e.projects]:e.projects,isLoading:!1})),{data:t,error:null}}catch(r){return console.error("Error creating project:",r),e({error:r.message||"Failed to create project",isLoading:!1}),{data:null,error:r.message||"Failed to create project"}}},updateProject:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:a,error:i}=await (0,o.A)("PATCH",s.s.PROJECT.byId(r),t);if(i)throw Error(i);return a?e(e=>({projects:e.projects.map(e=>e.id===r?{...e,...a}:e),isLoading:!1})):e({isLoading:!1}),{data:a,error:null}}catch(r){return console.error("Error updating project:",r),e({error:r.message||"Failed to update project",isLoading:!1}),{data:null,error:r.message||"Failed to update project"}}},deleteProject:async t=>{try{e({isLoading:!0,error:null});let a=[...r().projects];e(e=>({projects:e.projects.filter(e=>e.id!==t)}));let{error:i}=await (0,o.A)("DELETE",s.s.PROJECT.byId(t));if(i)throw e({projects:a,isLoading:!1}),Error(i);return e({isLoading:!1}),{error:null}}catch(r){return console.error("Error deleting project:",r),e({error:r.message||"Failed to delete project",isLoading:!1}),{error:r.message||"Failed to delete project"}}},fetchProjectStats:async()=>{try{e({isLoading:!0,error:null});let{data:r,error:t}=await (0,o.A)("GET",s.s.PROJECT.stats);if(t)throw Error(t);return e({stats:r,isLoading:!1}),{data:r,error:null}}catch(r){return console.error("Error fetching project statistics:",r),e({error:r.message||"Failed to fetch project statistics",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project statistics"}}},fetchCustomerProjects:async function(r){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{e({isLoading:!0,error:null});let a=new URLSearchParams;Object.entries(t).forEach(e=>{let[r,t]=e;t&&a.append(r,t)});let i=a.toString(),n=i?"".concat(s.s.PROJECT.byCustomer(r),"?").concat(i):s.s.PROJECT.byCustomer(r),{data:c,error:l}=await (0,o.A)("GET",n);if(l)throw Error(l);return e({isLoading:!1}),{data:(null==c?void 0:c.projects)||[],error:null}}catch(r){return console.error("Error fetching customer projects:",r),e({error:r.message||"Failed to fetch customer projects",isLoading:!1}),{data:null,error:r.message||"Failed to fetch customer projects"}}},fetchProjectFiles:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:a}=await (0,o.A)("GET",s.s.PROJECT.files(r));if(a)throw Error(a);return e({isLoading:!1}),{data:(null==t?void 0:t.files)||[],error:null}}catch(r){return console.error("Error fetching project files:",r),e({error:r.message||"Failed to fetch project files",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project files"}}},uploadProjectFile:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:a,error:i}=await (0,o.A)("POST",s.s.PROJECT.files(r),t);if(i)throw Error(i);return e({isLoading:!1}),{data:a,error:null}}catch(r){return console.error("Error uploading file:",r),e({error:r.message||"Failed to upload file",isLoading:!1}),{data:null,error:r.message||"Failed to upload file"}}},deleteProjectFile:async(r,t)=>{try{e({isLoading:!0,error:null});let{error:a}=await (0,o.A)("DELETE","".concat(s.s.PROJECT.files(r),"/").concat(t));if(a)throw Error(a);return e({isLoading:!1}),{error:null}}catch(r){return console.error("Error deleting file:",r),e({error:r.message||"Failed to delete file",isLoading:!1}),{error:r.message||"Failed to delete file"}}},fetchProjectFeedback:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:a}=await (0,o.A)("GET",s.s.PROJECT.feedback(r));if(a)throw Error(a);return e({isLoading:!1}),{data:(null==t?void 0:t.feedback)||[],error:null}}catch(r){return console.error("Error fetching project feedback:",r),e({error:r.message||"Failed to fetch project feedback",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project feedback"}}},addProjectFeedback:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:a,error:i}=await (0,o.A)("POST",s.s.PROJECT.feedback(r),t);if(i)throw Error(i);return e({isLoading:!1}),{data:a,error:null}}catch(r){return console.error("Error adding feedback:",r),e({error:r.message||"Failed to add feedback",isLoading:!1}),{data:null,error:r.message||"Failed to add feedback"}}},updateFeedbackStatus:async(r,t,a)=>{try{e({isLoading:!0,error:null});let{data:i,error:n}=await (0,o.A)("PATCH","".concat(s.s.PROJECT.feedback(r),"/").concat(t),{status:a});if(n)throw Error(n);return e({isLoading:!1}),{data:i,error:null}}catch(r){return console.error("Error updating feedback status:",r),e({error:r.message||"Failed to update feedback status",isLoading:!1}),{data:null,error:r.message||"Failed to update feedback status"}}},fetchProjectMessages:async r=>{try{e({isLoading:!0,error:null});let{data:t,error:a}=await (0,o.A)("GET",s.s.PROJECT.messages(r));if(a)throw Error(a);return e({isLoading:!1}),{data:(null==t?void 0:t.messages)||[],error:null}}catch(r){return console.error("Error fetching project messages:",r),e({error:r.message||"Failed to fetch project messages",isLoading:!1}),{data:null,error:r.message||"Failed to fetch project messages"}}},sendProjectMessage:async(r,t)=>{try{e({isLoading:!0,error:null});let{data:a,error:i}=await (0,o.A)("POST",s.s.PROJECT.messages(r),t);if(i)throw Error(i);return e({isLoading:!1}),{data:a,error:null}}catch(r){return console.error("Error sending message:",r),e({error:r.message||"Failed to send message",isLoading:!1}),{data:null,error:r.message||"Failed to send message"}}},clearProjects:()=>e({projects:[]}),clearError:()=>e({error:null})}))},53580:(e,r,t)=>{t.d(r,{dj:()=>g,oR:()=>u});var a=t(12115);let o=0,s=new Map,i=e=>{if(s.has(e))return;let r=setTimeout(()=>{s.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,r)},n=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},c=[],l={toasts:[]};function d(e){l=n(l,e),c.forEach(e=>{e(l)})}function u(e){let{...r}=e,t=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function g(){let[e,r]=a.useState(l);return a.useEffect(()=>(c.push(r),()=>{let e=c.indexOf(r);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},53919:(e,r,t)=>{t.d(r,{s:()=>a});let a={AUTH:{signUp:"/api/auth/signup",teamMemberCreate:"/api/auth/team-member/create",allTeamMember:"/api/auth/team-member/all",signIn:"/api/auth/signin",signOut:"/api/auth/signout",forgotPassword:"/api/auth/forgot-password",resetPassword:"/api/auth/reset-password",verifyToken:"/api/auth/verify-token",profile:"/api/auth/profile",updatePassword:"/api/auth/update-password",getUser:"/api/auth/profile"},PROJECT:{base:"/api/projects",byId:e=>"/api/projects/".concat(e),stats:"/api/projects/stats",byCustomer:e=>"/api/projects/customer/".concat(e),files:e=>"/api/projects/".concat(e,"/files"),feedback:e=>"/api/projects/".concat(e,"/feedback"),messages:e=>"/api/projects/".concat(e,"/messages"),teamMembers:e=>"/api/projects/".concat(e,"/team-members"),assignTeamMember:e=>"/api/projects/".concat(e,"/assign-team-member")},TASK:{base:"/api/tasks",byId:e=>"/api/tasks/".concat(e),byProject:e=>"/api/tasks/project/".concat(e),byUser:e=>"/api/tasks/user/".concat(e),groups:"/api/tasks/groups",statusSummary:"/api/tasks/status/summary",batchAssign:e=>"/api/tasks/user/".concat(e)},USER:{base:"/api/users",byId:e=>"/api/users/".concat(e),team:"/api/users/team",customers:"/api/users/customers"},FILE:{upload:"/api/upload"}}},53999:(e,r,t)=>{t.d(r,{cn:()=>s,s:()=>i});var a=t(52596),o=t(39688);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,o.QP)((0,a.$)(r))}function i(e,r){let t=null;return function(){for(var a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=arguments[s];null!==t&&clearTimeout(t),t=setTimeout(()=>{t=null,e(...o)},r)}}},88145:(e,r,t)=>{t.d(r,{E:()=>n});var a=t(95155),o=t(74466),s=t(53999);let i=(0,o.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:r,variant:t,...o}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:t}),r),...o})}},89852:(e,r,t)=>{t.d(r,{p:()=>i});var a=t(95155),o=t(12115),s=t(53999);let i=o.forwardRef((e,r)=>{let{className:t,type:o,...i}=e;return(0,a.jsx)("input",{type:o,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...i})});i.displayName="Input"},97168:(e,r,t)=>{t.d(r,{$:()=>l,r:()=>c});var a=t(95155),o=t(12115),s=t(99708),i=t(74466),n=t(53999);let c=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,r)=>{let{className:t,variant:i,size:l,asChild:d=!1,iconOnly:u=!1,children:g,...p}=e,f=d?s.DX:"button";return(0,a.jsx)(f,{className:(0,n.cn)(c({variant:i,size:l,className:t}),u&&"p-0 w-10 h-10 rounded-full flex items-center justify-center"),ref:r,...p,children:u?o.Children.toArray(g).filter(e=>"string"!=typeof e&&"number"!=typeof e&&null!=e):g})});l.displayName="Button"}}]);