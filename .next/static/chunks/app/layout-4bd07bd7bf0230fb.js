(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6807:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var s=t(23464),a=t(49509);let o=s.A.create({baseURL:a.env.NEXT_PUBLIC_API_BASE_URL,headers:{"Content-Type":"application/json"},withCredentials:!0}),i=async(e,r,t,s)=>{try{return{data:(await o({method:e,url:r,data:t,withCredentials:!0,...s})).data,error:null}}catch(e){var a,i;return{data:null,error:(null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.error)||e.message||"Something went wrong"}}}},19324:()=>{},39726:(e,r,t)=>{"use strict";t.d(r,{AuthInitializer:()=>o});var s=t(12115),a=t(81347);function o(){let{initialize:e}=(0,a.n)();return(0,s.useEffect)(()=>{e()},[]),null}},53580:(e,r,t)=>{"use strict";t.d(r,{dj:()=>p,oR:()=>c});var s=t(12115);let a=0,o=new Map,i=e=>{if(o.has(e))return;let r=setTimeout(()=>{o.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,r)},n=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},l=[],u={toasts:[]};function d(e){u=n(u,e),l.forEach(e=>{e(u)})}function c(e){let{...r}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>d({type:"DISMISS_TOAST",toastId:t});return d({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function p(){let[e,r]=s.useState(u);return s.useEffect(()=>(l.push(r),()=>{let e=l.indexOf(r);e>-1&&l.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},53919:(e,r,t)=>{"use strict";t.d(r,{s:()=>s});let s={AUTH:{signUp:"/api/auth/signup",teamMemberCreate:"/api/auth/team-member/create",allTeamMember:"/api/auth/team-member/all",signIn:"/api/auth/signin",signOut:"/api/auth/signout",forgotPassword:"/api/auth/forgot-password",resetPassword:"/api/auth/reset-password",verifyToken:"/api/auth/verify-token",profile:"/api/auth/profile",updatePassword:"/api/auth/update-password",getUser:"/api/auth/profile"},PROJECT:{base:"/api/projects",byId:e=>"/api/projects/".concat(e),stats:"/api/projects/stats",byCustomer:e=>"/api/projects/customer/".concat(e),files:e=>"/api/projects/".concat(e,"/files"),feedback:e=>"/api/projects/".concat(e,"/feedback"),messages:e=>"/api/projects/".concat(e,"/messages"),teamMembers:e=>"/api/projects/".concat(e,"/team-members"),assignTeamMember:e=>"/api/projects/".concat(e,"/assign-team-member")},TASK:{base:"/api/tasks",byId:e=>"/api/tasks/".concat(e),byProject:e=>"/api/tasks/project/".concat(e),byUser:e=>"/api/tasks/user/".concat(e),groups:"/api/tasks/groups",statusSummary:"/api/tasks/status/summary",batchAssign:e=>"/api/tasks/user/".concat(e)},USER:{base:"/api/users",byId:e=>"/api/users/".concat(e),team:"/api/users/team",customers:"/api/users/customers"},FILE:{upload:"/api/upload"}}},53999:(e,r,t)=>{"use strict";t.d(r,{cn:()=>o,s:()=>i});var s=t(52596),a=t(39688);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}function i(e,r){let t=null;return function(){for(var s=arguments.length,a=Array(s),o=0;o<s;o++)a[o]=arguments[o];null!==t&&clearTimeout(t),t=setTimeout(()=>{t=null,e(...a)},r)}}},65038:(e,r,t)=>{"use strict";t.d(r,{Toaster:()=>v});var s=t(95155),a=t(53580),o=t(12115),i=t(26621),n=t(74466),l=t(54416),u=t(53999);let d=i.Kq,c=o.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(i.LM,{ref:r,className:(0,u.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...a})});c.displayName=i.LM.displayName;let p=(0,n.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),f=o.forwardRef((e,r)=>{let{className:t,variant:a,...o}=e;return(0,s.jsx)(i.bL,{ref:r,className:(0,u.cn)(p({variant:a}),t),...o})});f.displayName=i.bL.displayName,o.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(i.rc,{ref:r,className:(0,u.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...a})}).displayName=i.rc.displayName;let g=o.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(i.bm,{ref:r,className:(0,u.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});g.displayName=i.bm.displayName;let m=o.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(i.hE,{ref:r,className:(0,u.cn)("text-sm font-semibold",t),...a})});m.displayName=i.hE.displayName;let h=o.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(i.VY,{ref:r,className:(0,u.cn)("text-sm opacity-90",t),...a})});function v(){let{toasts:e}=(0,a.dj)();return(0,s.jsxs)(d,{children:[e.map(function(e){let{id:r,title:t,description:a,action:o,...i}=e;return(0,s.jsxs)(f,{...i,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[t&&(0,s.jsx)(m,{children:t}),a&&(0,s.jsx)(h,{children:a})]}),o,(0,s.jsx)(g,{})]},r)}),(0,s.jsx)(c,{})]})}h.displayName=i.VY.displayName},68185:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,19324,23)),Promise.resolve().then(t.bind(t,39726)),Promise.resolve().then(t.bind(t,99304)),Promise.resolve().then(t.bind(t,65038)),Promise.resolve().then(t.t.bind(t,33206,23)),Promise.resolve().then(t.t.bind(t,4896,23))},81347:(e,r,t)=>{"use strict";t.d(r,{n:()=>l});var s=t(65453),a=t(6807),o=t(34477);let i=(0,o.createServerReference)("0078e71f6cc7e95d02d9cdc97ddb6eaa3edb2c55f8",o.callServer,void 0,o.findSourceMapURL,"getServerSideProfile");var n=t(53919);let l=(0,s.v)()((e,r)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,initialize:async()=>{try{e({isLoading:!0});let r=await i();if(r.success&&r.user)return e({user:r.user,isAuthenticated:!0,isLoading:!1,error:null}),!0;return e({user:null,isAuthenticated:!1,isLoading:!1,error:r.error||null}),!1}catch(r){return console.error("Failed to initialize auth:",r),e({user:null,isAuthenticated:!1,isLoading:!1}),!1}},signIn:async(r,t)=>{e({isLoading:!0,error:null});try{let{data:s,error:o}=await (0,a.A)("POST",n.s.AUTH.signIn,{email:r,password:t});if(o)return e({isLoading:!1,error:o}),{data:null,error:o};let l=await i();return l.success&&l.user?e({user:l.user,isAuthenticated:!0,isLoading:!1,error:null}):e({user:null==s?void 0:s.user,isAuthenticated:!0,isLoading:!1,error:null}),{data:s,error:null}}catch(t){console.error("Sign in error:",t);let r=t.message||"Failed to sign in. Please check your network connection and try again.";return e({isLoading:!1,error:r}),{data:null,error:r}}},signUp:async(r,t)=>{e({isLoading:!0,error:null});try{let{data:s,error:o}=await (0,a.A)("POST",n.s.AUTH.signUp,{email:r,user_name:t||r.split("@")[0]});if(o)return e({isLoading:!1,error:o}),{data:null,error:o};return e({isLoading:!1,error:null}),{data:s,error:null}}catch(t){console.error("Sign up error:",t);let r=t.message||"Failed to sign up";return e({isLoading:!1,error:r}),{data:null,error:r}}},verifyToken:async r=>{e({isLoading:!0,error:null});try{let{data:t,error:s}=await (0,a.A)("POST",n.s.AUTH.verifyToken,{token:r});if(e({isLoading:!1}),s)return{data:null,error:s};return{data:t,error:null}}catch(t){console.error("Token verification error:",t);let r=t.message||"Failed to verify token";return e({isLoading:!1}),{data:null,error:r}}},forgotPassword:async r=>{e({isLoading:!0,error:null});try{let{error:t}=await (0,a.A)("POST",n.s.AUTH.forgotPassword,{email:r});return e({isLoading:!1,error:t||null}),{error:t||null}}catch(t){console.error("Forgot password error:",t);let r=t.message||"Failed to process forgot password request";return e({isLoading:!1,error:r}),{error:r}}},resetPassword:async(r,t)=>{e({isLoading:!0,error:null});try{let{error:s}=await (0,a.A)("POST",n.s.AUTH.resetPassword,{token:r,password:t});return e({isLoading:!1,error:s||null}),{error:s||null}}catch(t){console.error("Reset password error:",t);let r=t.message||"Failed to reset password";return e({isLoading:!1,error:r}),{error:r}}},loadProfile:async()=>{try{e({isLoading:!0});let r=await i();r.success&&r.user?e({user:r.user,isAuthenticated:!0,isLoading:!1,error:null}):e({isAuthenticated:!1,user:null,isLoading:!1,error:r.error||null})}catch(r){console.error("Error loading profile:",r),e({isAuthenticated:!1,user:null,isLoading:!1,error:"Failed to load profile"})}},signOut:async()=>{e({isLoading:!0}),window.location.href="/login";try{let{error:r}=await (0,a.A)("POST",n.s.AUTH.signOut);e({user:null,isAuthenticated:!1}),window.location.href="/login"}catch(r){console.error("Sign out error:",r),e({user:null,isAuthenticated:!1}),window.location.href="/login"}finally{e({isLoading:!1})}},clearError:()=>e({error:null})}))},99304:(e,r,t)=>{"use strict";t.d(r,{ThemeProvider:()=>o});var s=t(95155),a=t(51362);function o(e){let{children:r,...t}=e;return(0,s.jsx)(a.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,...t,children:r})}}},e=>{var r=r=>e(e.s=r);e.O(0,[2533,7479,2848,8138,8074,8616,8441,1684,7358],()=>r(68185)),_N_E=e.O()}]);