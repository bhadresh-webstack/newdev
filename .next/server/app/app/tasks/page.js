(()=>{var e={};e.id=9959,e.ids=[9959],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5486:e=>{"use strict";e.exports=require("bcrypt")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13842:(e,s,r)=>{Promise.resolve().then(r.bind(r,26896))},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},26896:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\bhadr\\\\Downloads\\\\webstack\\\\app\\\\app\\\\tasks\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\tasks\\page.tsx","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},36573:(e,s,r)=>{"use strict";function a(){return null}r.r(s),r.d(s,{default:()=>a})},43558:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>$});var a=r(60687),t=r(43210),l=r(16189),i=r(69021),d=r(82005),n=r(93551),c=r(54627),o=r(9890),u=r(96474),m=r(24934);function x({setIsNewTaskDialogOpen:e}){return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(o.P.h1,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl font-semibold tracking-tight",children:"Tasks"}),(0,a.jsx)(o.P.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-muted-foreground",children:"Manage and track tasks across all your projects"})]}),(0,a.jsx)(o.P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:(0,a.jsxs)(m.$,{className:"gap-1.5",onClick:()=>e(!0),children:[(0,a.jsx)(u.A,{className:"h-4 w-4"})," New Task"]})})]})}var p=r(99270),h=r(98492),g=r(68988),b=r(63974);function j({filters:e,isFilterBarVisible:s,setIsFilterBarVisible:r,updateFilters:t,taskGroups:l}){return(0,a.jsxs)("div",{className:"bg-card/60 backdrop-blur-sm rounded-lg border border-border/40 shadow-sm p-4 mb-6",children:[(0,a.jsx)("div",{className:"flex flex-col space-y-4 md:space-y-0 md:flex-row md:items-center md:justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,a.jsxs)("div",{className:"relative w-full md:w-64",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,a.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsx)(g.p,{type:"search",placeholder:"Search tasks...",className:"pl-9 pr-4 py-2 h-9 bg-background/80 border-border/50 focus-visible:ring-primary/20 focus-visible:ring-offset-0",value:e.searchQuery,onChange:e=>t("q",e.target.value||"")})]}),(0,a.jsx)(m.$,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-full",onClick:()=>r(!s),"aria-label":s?"Hide filters":"Show filters",title:s?"Hide filters":"Show filters",children:(0,a.jsx)(h.A,{className:`h-4 w-4 ${s?"text-primary":""}`})})]})}),s&&(0,a.jsx)(o.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 flex flex-wrap gap-2 items-center",children:(0,a.jsxs)("div",{className:"flex items-center bg-background/80 rounded-md border border-border/50 divide-x divide-border/50 w-full md:w-auto",children:[(0,a.jsxs)(b.l6,{value:e.projectFilter||"all",onValueChange:e=>t("project",e),children:[(0,a.jsx)(b.bq,{className:"min-w-[140px] h-9 border-0 rounded-none rounded-l-md bg-transparent focus:ring-0 focus:ring-offset-0 text-sm font-medium",children:(0,a.jsx)(b.yv,{placeholder:"Project"})}),(0,a.jsxs)(b.gC,{className:"min-w-[180px]",children:[(0,a.jsx)(b.eb,{value:"all",children:"All Projects"}),(0,a.jsx)(b.eb,{value:"project-1",children:"E-commerce Website"}),(0,a.jsx)(b.eb,{value:"project-2",children:"Mobile App"})]})]}),(0,a.jsxs)(b.l6,{value:e.statusFilter||"all",onValueChange:e=>t("status",e),children:[(0,a.jsx)(b.bq,{className:"min-w-[120px] h-9 border-0 rounded-none bg-transparent focus:ring-0 focus:ring-offset-0 text-sm font-medium",children:(0,a.jsx)(b.yv,{placeholder:"Status"})}),(0,a.jsxs)(b.gC,{className:"min-w-[160px]",children:[(0,a.jsx)(b.eb,{value:"all",children:"All Statuses"}),(0,a.jsx)(b.eb,{value:"Pending",children:"Pending"}),(0,a.jsx)(b.eb,{value:"In Progress",children:"In Progress"}),(0,a.jsx)(b.eb,{value:"QA",children:"QA"}),(0,a.jsx)(b.eb,{value:"Open",children:"Open"}),(0,a.jsx)(b.eb,{value:"Completed",children:"Completed"}),(0,a.jsx)(b.eb,{value:"Blocked",children:"Blocked"})]})]}),(0,a.jsxs)(b.l6,{value:e.groupFilter||"all",onValueChange:e=>t("group",e),children:[(0,a.jsx)(b.bq,{className:"min-w-[120px] h-9 border-0 rounded-none rounded-r-md bg-transparent focus:ring-0 focus:ring-offset-0 text-sm font-medium",children:(0,a.jsx)(b.yv,{placeholder:"Group"})}),(0,a.jsxs)(b.gC,{className:"min-w-[160px]",children:[(0,a.jsx)(b.eb,{value:"all",children:"All Groups"}),l.map(e=>(0,a.jsx)(b.eb,{value:e,children:e},e))]})]})]})})]})}var f=r(62688);let v=(0,f.A)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]),k=(0,f.A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);var y=r(85910);function N({view:e,updateFilters:s}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(y.Tabs,{value:e,onValueChange:e=>s("view",e),className:"hidden md:block",children:(0,a.jsxs)(y.TabsList,{className:"h-9 bg-background/80 border border-border/50 p-0.5",children:[(0,a.jsxs)(y.TabsTrigger,{value:"list",className:"flex items-center gap-1.5 px-3 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[(0,a.jsx)(v,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"List"})]}),(0,a.jsxs)(y.TabsTrigger,{value:"board",className:"flex items-center gap-1.5 px-3 data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:[(0,a.jsx)(k,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Board"})]})]})}),(0,a.jsx)(y.Tabs,{value:e,onValueChange:e=>s("view",e),className:"md:hidden",children:(0,a.jsxs)(y.TabsList,{className:"grid w-[100px] grid-cols-2 h-9 bg-background/80 border border-border/50 p-0.5",children:[(0,a.jsx)(y.TabsTrigger,{value:"list",className:"flex items-center justify-center data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:(0,a.jsx)(v,{className:"h-4 w-4"})}),(0,a.jsx)(y.TabsTrigger,{value:"board",className:"flex items-center justify-center data-[state=active]:bg-primary/10 data-[state=active]:text-primary",children:(0,a.jsx)(k,{className:"h-4 w-4"})})]})})]})}var w=r(78272),C=r(40228),P=r(48730),T=r(59821),_=r(70373),D=r(55629);let q={Pending:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500 mr-2"}),"In Progress":(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-blue-500 mr-2"}),QA:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-purple-500 mr-2"}),Open:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500 mr-2"}),Completed:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-green-500 mr-2"}),Blocked:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-red-500 mr-2"})},A={Backlog:"bg-slate-100 text-slate-800 dark:bg-slate-700 dark:text-slate-100","To Do":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100","In Progress":"bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-100",Review:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-100",Done:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100"};function S({task:e,handleTaskClick:s,handleTaskStatusChange:r,getInitials:t}){return(0,a.jsxs)("div",{className:`group relative bg-background rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all cursor-pointer border border-border ${"High"===e.priority?"shadow-[inset_0_0_0_1px_rgba(234,88,12,0.2)]":""}`,onClick:r=>{if(r.target instanceof HTMLElement&&r.target.closest("[data-prevent-click]")){r.stopPropagation();return}s(e)},children:["High"===e.priority&&(0,a.jsx)("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[16px] border-t-amber-500 border-l-[16px] border-l-transparent z-10"}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)(T.E,{className:`${A[e.task_group]||"bg-slate-100 text-slate-800"} px-2 py-0.5 text-[10px] font-medium`,children:e.task_group}),(0,a.jsxs)(D.rI,{children:[(0,a.jsx)(D.ty,{asChild:!0,"data-prevent-click":!0,children:(0,a.jsxs)("div",{className:`flex items-center gap-1 px-2 py-1 rounded text-[10px] font-medium cursor-pointer border ${"Completed"===e.status?"border-green-200 bg-green-50 text-green-700 dark:border-green-800 dark:bg-green-950 dark:text-green-300":"In Progress"===e.status?"border-blue-200 bg-blue-50 text-blue-700 dark:border-blue-800 dark:bg-blue-950 dark:text-blue-300":"Blocked"===e.status?"border-red-200 bg-red-50 text-red-700 dark:border-red-800 dark:bg-red-950 dark:text-red-300":"border-slate-200 bg-slate-50 text-slate-700 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-300"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[q[e.status]||(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500 mr-2"}),(0,a.jsx)("span",{children:e.status})]}),(0,a.jsx)(w.A,{className:"h-3 w-3 opacity-70"})]})}),(0,a.jsxs)(D.SQ,{align:"end","data-prevent-click":!0,children:[(0,a.jsxs)(D._2,{className:"Pending"===e.status?"bg-accent":"",onClick:()=>r(e.id,"Pending"),children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500 mr-2"}),"Pending"]}),(0,a.jsxs)(D._2,{className:"In Progress"===e.status?"bg-accent":"",onClick:()=>r(e.id,"In Progress"),children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-blue-500 mr-2"}),"In Progress"]}),(0,a.jsxs)(D._2,{className:"QA"===e.status?"bg-accent":"",onClick:()=>r(e.id,"QA"),children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-purple-500 mr-2"}),"QA"]}),(0,a.jsxs)(D._2,{className:"Open"===e.status?"bg-accent":"",onClick:()=>r(e.id,"Open"),children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500 mr-2"}),"Open"]}),(0,a.jsxs)(D._2,{className:"Completed"===e.status?"bg-accent":"",onClick:()=>r(e.id,"Completed"),children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-green-500 mr-2"}),"Completed"]}),(0,a.jsxs)(D._2,{className:"Blocked"===e.status?"bg-accent":"",onClick:()=>r(e.id,"Blocked"),children:[(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-red-500 mr-2"}),"Blocked"]})]})]})]}),(0,a.jsx)("div",{className:"mb-2"}),(0,a.jsx)("h3",{className:"font-semibold text-base mb-4 line-clamp-1",children:e.title}),e.due_date&&(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[(0,a.jsx)(C.A,{className:"h-3.5 w-3.5 mr-1.5"}),new Date(e.due_date).toLocaleDateString(void 0,{month:"short",day:"numeric"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-3 border-t border-border",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.project?.title||"Unknown Project"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.assignee&&(0,a.jsx)("div",{className:"flex items-center gap-1.5",children:(0,a.jsxs)(_.eu,{className:"h-6 w-6",children:[(0,a.jsx)(_.BK,{src:e.assignee.profile_image||void 0,alt:e.assignee.user_name}),(0,a.jsx)(_.q5,{className:"text-xs bg-primary/10 text-primary",children:t(e.assignee.user_name)})]})}),(0,a.jsxs)("div",{className:"flex items-center text-xs text-muted-foreground",children:[(0,a.jsx)(P.A,{className:"h-3 w-3 mr-1"}),new Date(e.updated_at||e.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})]})]})]})]})}let I={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}},B={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};function L({tasks:e,handleTaskClick:s,handleTaskStatusChange:r,getInitials:t,setIsNewTaskDialogOpen:l}){return(0,a.jsx)(o.P.div,{variants:B,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.length>0?e.map(e=>(0,a.jsx)(o.P.div,{variants:I,children:(0,a.jsx)(S,{task:e,handleTaskClick:s,handleTaskStatusChange:r,getInitials:t})},e.id)):(0,a.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"col-span-full",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 bg-card rounded-lg border border-dashed",children:[(0,a.jsx)("div",{className:"rounded-full bg-muted p-3 mb-4",children:(0,a.jsx)(p.A,{className:"h-6 w-6 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No tasks found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center max-w-md",children:"Try adjusting your filters or search query"}),(0,a.jsxs)(m.$,{className:"mt-6",onClick:()=>l(!0),children:[(0,a.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Create Task"]})]})})})}let M=(0,f.A)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var F=r(55192);let E={Pending:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500 mr-2"}),"In Progress":(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-blue-500 mr-2"}),QA:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-purple-500 mr-2"}),Open:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500 mr-2"}),Completed:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-green-500 mr-2"}),Blocked:(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-red-500 mr-2"})};function O({task:e,handleTaskClick:s,getInitials:r,draggedTask:t,handleDragStart:l,handleDragEnd:i,group:d}){return(0,a.jsxs)(F.Zp,{className:`hover:shadow-md transition-all ${t===e.id?"opacity-40":""} cursor-pointer relative ${"High"===e.priority?"shadow-[inset_0_0_0_1px_rgba(234,88,12,0.2)]":""}`,onClick:()=>s(e),draggable:!0,onDragStart:s=>l(s,e,d),onDragEnd:i,children:["High"===e.priority&&(0,a.jsx)("div",{className:"absolute top-0 right-0 w-0 h-0 border-t-[16px] border-t-amber-500 border-l-[16px] border-l-transparent z-10"}),(0,a.jsx)(F.aR,{className:"p-3 pb-2",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center mb-1",children:[(0,a.jsx)("div",{className:"mr-2",children:E[e.status]||(0,a.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-slate-500"})}),(0,a.jsx)(F.ZB,{className:"text-sm font-medium line-clamp-1",children:e.title})]}),(0,a.jsx)(F.BT,{className:"text-xs line-clamp-2",children:e.description})]}),(0,a.jsx)("div",{className:"ml-2 flex items-center",children:(0,a.jsx)(M,{className:"h-4 w-4 text-muted-foreground cursor-move"})})]})}),(0,a.jsx)(F.Wu,{className:"p-3 pt-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.project?.title||"Unknown Project"}),e.assignee&&(0,a.jsxs)(_.eu,{className:"h-6 w-6",children:[(0,a.jsx)(_.BK,{src:e.assignee.profile_image||void 0,alt:e.assignee.user_name}),(0,a.jsx)(_.q5,{className:"text-xs",children:r(e.assignee.user_name)})]})]})})]})}let G={Backlog:"border-slate-300 dark:border-slate-600","To Do":"border-blue-300 dark:border-blue-700","In Progress":"border-amber-300 dark:border-amber-700",Review:"border-purple-300 dark:border-purple-700",Done:"border-green-300 dark:border-green-700"};function U({taskGroups:e,groupedTasks:s,handleTaskClick:r,getInitials:t,draggedTask:l,handleDragStart:i,handleDragEnd:d,handleDragOver:n,handleDragLeave:c,handleDrop:x,setIsNewTaskFormOpen:p}){return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:e.map(e=>(0,a.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:`flex items-center justify-between mb-3 pb-2 border-b-2 ${G[e]||G.Backlog}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("h3",{className:"font-medium text-sm",children:e}),(0,a.jsx)(T.E,{variant:"outline",className:"ml-2 text-xs",children:s[e]?.length||0})]}),(0,a.jsx)(m.$,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>{p(!0)},children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:`bg-card/50 dark:bg-card/20 rounded-lg flex-1 min-h-[500px] overflow-y-auto p-2 transition-colors duration-200 ${l?"border-2 border-dashed border-primary/40":""}`,onDragOver:n,onDragLeave:c,onDrop:s=>x(s,e),children:[s[e]?.map((s,n)=>a.jsx(o.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.05*n},className:"mb-3",children:a.jsx(O,{task:s,handleTaskClick:r,getInitials:t,draggedTask:l,handleDragStart:i,handleDragEnd:d,group:e})},s.id)),(!s[e]||0===s[e].length)&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-24 text-center p-4 text-sm text-muted-foreground border border-dashed rounded-md mt-2",children:[(0,a.jsx)("p",{children:"No tasks"}),(0,a.jsx)("p",{className:"text-xs mt-1",children:"Drag tasks here"})]})]})]},e))})}function $(){let e=(0,l.useRouter)(),s=(0,l.useSearchParams)();(0,t.useRef)(null),(0,t.useRef)(null);let{tasks:r,isLoading:o,error:u,fetchTasks:m,taskGroups:p}=(0,i.d)(),{isProcessing:h,handleCreateTask:g,handleUpdateTask:b,handleDeleteTask:f,handleUpdateTaskGroup:v}=(0,d.L)(),{filters:k,metadata:y,actions:w}=function(){let{projectFilter:e,statusFilter:s,groupFilter:r,assigneeFilter:a,searchQuery:t,viewMode:l,taskGroups:d,statusSummary:n,setProjectFilter:c,setStatusFilter:o,setGroupFilter:u,setAssigneeFilter:m,setSearchQuery:x,setViewMode:p,fetchTaskGroups:h,fetchStatusSummary:g}=(0,i.d)();return{filters:{projectFilter:e,statusFilter:s,groupFilter:r,assigneeFilter:a,searchQuery:t,viewMode:l},metadata:{taskGroups:d,statusSummary:n},actions:{handleProjectFilterChange:e=>{c(e),r&&u("")},handleStatusFilterChange:e=>{o(e)},handleGroupFilterChange:e=>{u(e)},handleAssigneeFilterChange:e=>{m(e)},handleSearchChange:e=>{x(e)},handleViewModeChange:e=>{p(e)},clearFilters:()=>{c(""),o(""),u(""),m(""),x("")}}}}(),[C,P]=(0,t.useState)(s.get("view")||"list"),[T,_]=(0,t.useState)(null),[D,q]=(0,t.useState)(null),[A,S]=(0,t.useState)(!1),[I,B]=(0,t.useState)(!1),[M,F]=(0,t.useState)(!1),[E,O]=(0,t.useState)(!1),G=(0,t.useCallback)((r,a)=>{let t=new URLSearchParams(s.toString());"all"===a||""===a?t.delete(r):t.set(r,a),"view"===r?P(a):"project"===r?w.handleProjectFilterChange("all"===a?"":a):"status"===r?w.handleStatusFilterChange("all"===a?"":a):"group"===r?w.handleGroupFilterChange("all"===a?"":a):"q"===r&&w.handleSearchChange(a),e.push(`/app/tasks?${t.toString()}`,{scroll:!1})},[s,e,w]),$=(0,t.useMemo)(()=>r.reduce((e,s)=>{let r=s.task_group||"Backlog";return e[r]||(e[r]=[]),e[r].push(s),e},{}),[r]),z=(0,t.useMemo)(()=>p.length>0?p:["Backlog","To Do","In Progress","Review","Done"],[p]),H=(0,t.useCallback)(e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase():"U",[]),R=(0,t.useCallback)((e,s,r)=>{e.dataTransfer.setData("taskId",s.id),e.dataTransfer.setData("sourceGroup",r),_(s.id),setTimeout(()=>{e.target instanceof HTMLElement&&(e.target.style.opacity="0.4")},0)},[]),Q=(0,t.useCallback)(e=>{e.target instanceof HTMLElement&&(e.target.style.opacity="1"),_(null)},[]),V=(0,t.useCallback)(e=>{e.preventDefault(),e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.add("bg-accent/50")},[]),K=(0,t.useCallback)(e=>{e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("bg-accent/50")},[]),W=(0,t.useCallback)(async(e,s)=>{e.preventDefault(),e.currentTarget instanceof HTMLElement&&e.currentTarget.classList.remove("bg-accent/50");let r=e.dataTransfer.getData("taskId");e.dataTransfer.getData("sourceGroup")!==s&&await v(r,s)},[v]),Z=(0,t.useCallback)(e=>{q(e),S(!0)},[]),X=(0,t.useCallback)(async(e,s)=>{r.find(s=>s.id===e)&&D&&D.id===e&&q({...D,status:s}),await b(e,{status:s})},[b,r,D]),J=(0,t.useCallback)((e,s)=>r.filter(r=>r.project_id===s&&r.id!==e),[r]);return(0,a.jsx)(a.Fragment,{children:o&&0===r.length?(0,a.jsxs)("div",{className:"space-y-8 animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 bg-muted rounded-md w-2/3"}),(0,a.jsx)("div",{className:"h-4 bg-muted rounded-md w-1/2"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[(0,a.jsx)("div",{className:"h-10 bg-muted rounded-md w-64"}),(0,a.jsx)("div",{className:"h-10 bg-muted rounded-md w-32"}),(0,a.jsx)("div",{className:"h-10 bg-muted rounded-md w-32"})]}),(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:5}).map((e,s)=>(0,a.jsx)("div",{className:"h-24 bg-muted rounded-lg"},s))})]}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)(x,{setIsNewTaskDialogOpen:B}),(0,a.jsxs)("div",{className:"flex flex-col space-y-4 md:space-y-0 md:flex-row md:items-center md:justify-between",children:[(0,a.jsx)(j,{filters:k,isFilterBarVisible:E,setIsFilterBarVisible:O,updateFilters:G,taskGroups:z}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(N,{view:C,updateFilters:G})})]}),"list"===C?(0,a.jsx)(L,{tasks:r,handleTaskClick:Z,handleTaskStatusChange:X,getInitials:H,setIsNewTaskDialogOpen:B}):(0,a.jsx)(U,{taskGroups:z,groupedTasks:$,handleTaskClick:Z,getInitials:H,draggedTask:T,handleDragStart:R,handleDragEnd:Q,handleDragOver:V,handleDragLeave:K,handleDrop:W,setIsNewTaskFormOpen:F}),D&&(0,a.jsx)(n.u,{task:D,isOpen:A,onClose:()=>S(!1),onStatusChange:X,relatedTasks:J(D.id,D.project_id),handleUpdateTask:b}),(0,a.jsx)(c.A,{isOpen:I,onClose:()=>B(!1),onSubmit:g}),(0,a.jsx)(c.A,{isOpen:M,onClose:()=>F(!1),onSubmit:g})]})})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},60698:(e,s,r)=>{Promise.resolve().then(r.bind(r,43558))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},72129:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>c});var a=r(65239),t=r(48088),l=r(88170),i=r.n(l),d=r(30893),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);r.d(s,n);let c={children:["",{children:["app",{children:["tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,26896)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\tasks\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,36573)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\tasks\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,93538)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"C:\\Users\\bhadr\\Downloads\\webstack\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["C:\\Users\\bhadr\\Downloads\\webstack\\app\\app\\tasks\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/app/tasks/page",pathname:"/app/tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96330:e=>{"use strict";e.exports=require("@prisma/client")},98492:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(62688).A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[7719,4888,515,7703,1846,990,5650,8040,8235,8928,8490,7976],()=>r(72129));module.exports=a})();