exports.id=7976,exports.ids=[7976],exports.modules={37826:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>m,Es:()=>p,L3:()=>h,c7:()=>x,lG:()=>n,rr:()=>g,zM:()=>o});var s=a(60687),r=a(43210),l=a(26134),i=a(11860),d=a(96241);let n=l.bL,o=l.l9,c=({className:e,...t})=>(0,s.jsx)(l.ZL,{...t,children:(0,s.jsx)("div",{className:(0,d.cn)(e),children:t.children})});c.displayName=l.ZL.displayName;let u=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.hJ,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));u.displayName=l.hJ.displayName;let m=r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.UC,{ref:r,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-3xl translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...a,children:[t,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=l.UC.displayName;let x=({className:e,...t})=>(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});x.displayName="DialogHeader";let p=({className:e,...t})=>(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});p.displayName="DialogFooter";let h=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.hE,{ref:a,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));h.displayName=l.hE.displayName;let g=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.VY,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=l.VY.displayName},54627:(e,t,a)=>{"use strict";a.d(t,{A:()=>T});var s=a(60687),r=a(43210),l=a(65822),i=a(48730),d=a(5336),n=a(40228),o=a(85650),c=a(24934),u=a(68988),m=a(39390),x=a(15616),p=a(63974),h=a(37826),g=a(56924),j=a(33135),f=a(70373),b=a(59821),v=a(96241),y=a(71702),N=a(34735),k=a(46677);let w=[{value:"Pending",label:"Pending",icon:(0,s.jsx)(l.A,{className:"h-4 w-4 text-slate-500"})},{value:"In Progress",label:"In Progress",icon:(0,s.jsx)(i.A,{className:"h-4 w-4 text-blue-500"})},{value:"Completed",label:"Completed",icon:(0,s.jsx)(d.A,{className:"h-4 w-4 text-green-500"})},{value:"Blocked",label:"Blocked",icon:(0,s.jsx)(l.A,{className:"h-4 w-4 text-red-500"})}],C=[{value:"Low",label:"Low",color:"bg-emerald-50 text-emerald-700 dark:bg-emerald-950 dark:text-emerald-300 border-emerald-200 dark:border-emerald-800"},{value:"Medium",label:"Medium",color:"bg-amber-50 text-amber-700 dark:bg-amber-950 dark:text-amber-300 border-amber-200 dark:border-amber-800"},{value:"High",label:"High",color:"bg-rose-50 text-rose-700 dark:bg-rose-950 dark:text-rose-300 border-rose-200 dark:border-rose-800"}],_=[{value:"Backlog",label:"Backlog"},{value:"To Do",label:"To Do"},{value:"In Progress",label:"In Progress"},{value:"Review",label:"Review"},{value:"Done",label:"Done"}],T=(0,r.memo)(function({isOpen:e,onClose:t,onSubmit:a,initialProjectId:l="",initialTaskGroup:i="To Do"}){let[d,T]=(0,r.useState)([]),[E,R]=(0,r.useState)([]),[P,A]=(0,r.useState)([]),[D,F]=(0,r.useState)(!1),[S,L]=(0,r.useState)(!1),[G,V]=(0,r.useState)(!1),[I,J]=(0,r.useState)({title:"",description:"",status:"Pending",priority:"Medium",task_group:i,project_id:l,assigned_to:"",due_date:null}),[M,$]=(0,r.useState)({}),[q,U]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&(J({title:"",description:"",status:"Pending",priority:"Medium",task_group:i,project_id:l,assigned_to:"",due_date:null}),$({}),B(),z(),l?H(l):H())},[e,l,i]);let B=(0,r.useCallback)(async()=>{if(!(d.length>0)){F(!0);try{let{data:e,error:t}=await (0,N.A)("GET",k.s.PROJECT.base);t?(console.error("Error fetching projects:",t),(0,y.oR)({title:"Error",description:"Failed to load projects. Using default options.",variant:"destructive"})):e&&e.projects&&e.projects.length>0&&T(e.projects)}catch(e){console.error("Error fetching projects:",e)}finally{F(!1)}}},[d.length,y.oR]),z=(0,r.useCallback)(async()=>{if(!(E.length>0)){L(!0);try{let{data:e,error:t}=await (0,N.A)("GET",k.s.AUTH.allTeamMember);t?(console.error("Error fetching team members:",t),(0,y.oR)({title:"Error",description:"Failed to load team members. Using default options.",variant:"destructive"})):e&&e.team_members&&e.team_members.length>0&&R(e.team_members)}catch(e){console.error("Error fetching team members:",e)}finally{L(!1)}}},[E.length]),H=(0,r.useCallback)(async e=>{V(!0);try{let t=k.s.TASK.groups;e&&(t=`${t}?projectId=${e}`);let{data:a,error:s}=await (0,N.A)("GET",t);s?console.error("Error fetching task groups:",s):a&&a.length>0&&A(a)}catch(e){console.error("Error fetching task groups:",e)}finally{V(!1)}},[]),K=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase():"U",O=(0,r.useCallback)((e,t)=>{J(a=>({...a,[e]:t})),"project_id"===e&&t&&H(t),M[e]&&$(t=>{let a={...t};return delete a[e],a})},[M,H]),W=(0,r.useCallback)(()=>{let e={};return I.title.trim()||(e.title="Title is required"),I.project_id||(e.project_id="Project is required"),$(e),0===Object.keys(e).length},[I.title,I.project_id]),Y=(0,r.useCallback)(async e=>{if(e.preventDefault(),W()){U(!0);try{await a(I)&&(J({title:"",description:"",status:"Pending",priority:"Medium",task_group:i,project_id:l,assigned_to:"",due_date:null}),t())}catch(e){console.error("Error creating task:",e),(0,y.oR)({title:"Error",description:e.message||"Failed to create task. Please try again.",variant:"destructive"})}finally{U(!1)}}},[I,l,i,t,a,W]),Z=P.length>0?P.map(e=>({value:e,label:e})):_,Q=!!l;return(0,s.jsx)(h.lG,{open:e,onOpenChange:e=>!e&&t(),children:(0,s.jsx)(h.Cf,{className:"sm:max-w-[600px] p-0 overflow-hidden",children:(0,s.jsxs)("div",{className:"flex flex-col max-h-[85vh]",children:[(0,s.jsxs)(h.c7,{className:"bg-gradient-to-r from-indigo-500/10 via-purple-500/10 to-pink-500/10 dark:from-indigo-950 dark:via-purple-950 dark:to-pink-950 p-6 border-b",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(h.L3,{className:"text-xl font-semibold tracking-tight",children:"Create New Task"})}),(0,s.jsx)(h.rr,{className:"text-muted-foreground mt-1.5",children:"Add a new task to your project"})]}),(0,s.jsx)("div",{className:"flex-grow overflow-y-auto p-6",children:(0,s.jsx)("form",{id:"new-task-form",onSubmit:Y,className:"space-y-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.J,{htmlFor:"title",className:(0,v.cn)(M.title?"text-destructive":""),children:["Task Title ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(u.p,{id:"title",value:I.title,onChange:e=>O("title",e.target.value),placeholder:"Enter task title",className:(0,v.cn)(M.title?"border-destructive":"")}),M.title&&(0,s.jsx)("p",{className:"text-xs text-destructive mt-1",children:M.title})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"description",children:"Description"}),(0,s.jsx)(x.T,{id:"description",value:I.description,onChange:e=>O("description",e.target.value),placeholder:"Enter task description",className:"min-h-[100px] resize-none"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(m.J,{htmlFor:"project",className:(0,v.cn)(M.project_id?"text-destructive":""),children:["Project ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),Q?(0,s.jsx)("div",{className:"flex items-center h-10 px-3 py-2 text-sm border rounded-md bg-muted",children:d.find(e=>e.id===l)?.title||"Current Project"}):(0,s.jsxs)(p.l6,{value:I.project_id,onValueChange:e=>O("project_id",e),children:[(0,s.jsx)(p.bq,{id:"project",className:(0,v.cn)(M.project_id?"border-destructive":""),disabled:D,children:(0,s.jsx)(p.yv,{placeholder:D?"Loading projects...":"Select project"})}),(0,s.jsx)(p.gC,{children:d.length>0?d.map(e=>(0,s.jsx)(p.eb,{value:e.id,children:e.title},e.id)):(0,s.jsx)(p.eb,{value:"project-1",children:"E-commerce Website"})})]}),M.project_id&&(0,s.jsx)("p",{className:"text-xs text-destructive mt-1",children:M.project_id})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"assigned_to",children:"Assign To"}),(0,s.jsxs)(p.l6,{value:I.assigned_to,onValueChange:e=>O("assigned_to",e),children:[(0,s.jsx)(p.bq,{id:"assigned_to",disabled:S,children:(0,s.jsx)(p.yv,{placeholder:S?"Loading team members...":"Select team member"})}),(0,s.jsx)(p.gC,{children:E.length>0?E.map(e=>(0,s.jsx)(p.eb,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(f.eu,{className:"h-6 w-6",children:[(0,s.jsx)(f.BK,{src:e.profile_image||void 0,alt:e.user_name}),(0,s.jsx)(f.q5,{className:"text-xs bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:K(e.user_name)})]}),(0,s.jsx)("span",{children:e.user_name})]})},e.id)):(0,s.jsx)(p.eb,{value:"no-members",children:"No team members available"})})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(p.l6,{value:I.status,onValueChange:e=>O("status",e),children:[(0,s.jsx)(p.bq,{id:"status",children:(0,s.jsx)(p.yv,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[w.find(e=>e.value===I.status)?.icon,(0,s.jsx)("span",{children:I.status})]})})}),(0,s.jsx)(p.gC,{children:w.map(e=>(0,s.jsx)(p.eb,{value:e.value,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon,(0,s.jsx)("span",{children:e.label})]})},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"priority",children:"Priority"}),(0,s.jsxs)(p.l6,{value:I.priority,onValueChange:e=>O("priority",e),children:[(0,s.jsx)(p.bq,{id:"priority",children:(0,s.jsx)(p.yv,{children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(b.E,{className:`${C.find(e=>e.value===I.priority)?.color} text-xs border`,children:I.priority})})})}),(0,s.jsx)(p.gC,{children:C.map(e=>(0,s.jsx)(p.eb,{value:e.value,children:(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(b.E,{className:`${e.color} text-xs border`,children:e.label})})},e.value))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"task_group",children:"Group"}),(0,s.jsxs)(p.l6,{value:I.task_group,onValueChange:e=>O("task_group",e),children:[(0,s.jsx)(p.bq,{id:"task_group",disabled:G,children:(0,s.jsx)(p.yv,{placeholder:G?"Loading groups...":"Select group"})}),(0,s.jsx)(p.gC,{children:Z.map(e=>(0,s.jsx)(p.eb,{value:e.value,children:e.label},e.value))})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(m.J,{htmlFor:"due_date",children:"Due Date"}),(0,s.jsxs)(j.AM,{children:[(0,s.jsx)(j.Wv,{asChild:!0,children:(0,s.jsxs)(c.$,{variant:"outline",className:(0,v.cn)("w-full justify-start text-left font-normal",!I.due_date&&"text-muted-foreground"),children:[(0,s.jsx)(n.A,{className:"mr-2 h-4 w-4"}),I.due_date?(0,o.GP)(I.due_date,"PPP"):"Select a date"]})}),(0,s.jsx)(j.hl,{className:"w-auto p-0",align:"start",children:(0,s.jsx)(g.V,{mode:"single",selected:I.due_date||void 0,onSelect:e=>O("due_date",e),initialFocus:!0})})]})]})]})})}),(0,s.jsxs)(h.Es,{className:"p-6 border-t",children:[(0,s.jsx)(c.$,{variant:"outline",onClick:t,disabled:q,children:"Cancel"}),(0,s.jsx)(c.$,{type:"submit",form:"new-task-form",disabled:q,className:"gap-1.5",children:q?"Creating...":"Create Task"})]})]})})})})},55146:(e,t,a)=>{"use strict";a.d(t,{B8:()=>R,UC:()=>A,bL:()=>E,l9:()=>P});var s=a(43210),r=a(70569),l=a(11273),i=a(72942),d=a(46059),n=a(14163),o=a(43),c=a(65551),u=a(96963),m=a(60687),x="Tabs",[p,h]=(0,l.A)(x,[i.RG]),g=(0,i.RG)(),[j,f]=p(x),b=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,onValueChange:r,defaultValue:l,orientation:i="horizontal",dir:d,activationMode:p="automatic",...h}=e,g=(0,o.jH)(d),[f,b]=(0,c.i)({prop:s,onChange:r,defaultProp:l??"",caller:x});return(0,m.jsx)(j,{scope:a,baseId:(0,u.B)(),value:f,onValueChange:b,orientation:i,dir:g,activationMode:p,children:(0,m.jsx)(n.sG.div,{dir:g,"data-orientation":i,...h,ref:t})})});b.displayName=x;var v="TabsList",y=s.forwardRef((e,t)=>{let{__scopeTabs:a,loop:s=!0,...r}=e,l=f(v,a),d=g(a);return(0,m.jsx)(i.bL,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:s,children:(0,m.jsx)(n.sG.div,{role:"tablist","aria-orientation":l.orientation,...r,ref:t})})});y.displayName=v;var N="TabsTrigger",k=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:s,disabled:l=!1,...d}=e,o=f(N,a),c=g(a),u=_(o.baseId,s),x=T(o.baseId,s),p=s===o.value;return(0,m.jsx)(i.q7,{asChild:!0,...c,focusable:!l,active:p,children:(0,m.jsx)(n.sG.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":x,"data-state":p?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:u,...d,ref:t,onMouseDown:(0,r.m)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(s)}),onKeyDown:(0,r.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(s)}),onFocus:(0,r.m)(e.onFocus,()=>{let e="manual"!==o.activationMode;p||l||!e||o.onValueChange(s)})})})});k.displayName=N;var w="TabsContent",C=s.forwardRef((e,t)=>{let{__scopeTabs:a,value:r,forceMount:l,children:i,...o}=e,c=f(w,a),u=_(c.baseId,r),x=T(c.baseId,r),p=r===c.value,h=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(d.C,{present:l||p,children:({present:a})=>(0,m.jsx)(n.sG.div,{"data-state":p?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!a,id:x,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:a&&i})})});function _(e,t){return`${e}-trigger-${t}`}function T(e,t){return`${e}-content-${t}`}C.displayName=w;var E=b,R=y,P=k,A=C},78335:()=>{},85910:(e,t,a)=>{"use strict";a.d(t,{Tabs:()=>d,TabsContent:()=>c,TabsList:()=>n,TabsTrigger:()=>o});var s=a(60687),r=a(43210),l=a(55146),i=a(96241);let d=l.bL,n=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.B8,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));n.displayName=l.B8.displayName;let o=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.l9,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));o.displayName=l.l9.displayName;let c=r.forwardRef(({className:e,...t},a)=>(0,s.jsx)(l.UC,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));c.displayName=l.UC.displayName},96487:()=>{}};